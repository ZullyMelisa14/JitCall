<div class="auth-container">
  <div class="auth-card">
    <div class="logo-container">
      <ion-icon name="videocam-outline"></ion-icon>
    </div>
    <div class="auth-header">
      <h1>Crear cuenta</h1>
      <p>Regístrate y empieza a usar JitCall</p>
    </div>

    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <ion-item>
        <ion-label position="floating">Nombre</ion-label>
        <ion-input formControlName="nombre"></ion-input>
      </ion-item>
      <div class="error-message" *ngIf="registerForm.get('nombre')?.invalid && registerForm.get('nombre')?.touched">
        <span *ngIf="registerForm.get('nombre')?.errors?.['required']">El nombre es obligatorio</span>
      </div>

      <ion-item>
        <ion-label position="floating">Apellido</ion-label>
        <ion-input formControlName="apellido"></ion-input>
      </ion-item>
      <div class="error-message" *ngIf="registerForm.get('apellido')?.invalid && registerForm.get('apellido')?.touched">
        <span *ngIf="registerForm.get('apellido')?.errors?.['required']">El apellido es obligatorio</span>
      </div>

      <ion-item>
        <ion-label position="floating">Teléfono</ion-label>
        <ion-input type="tel" formControlName="telefono"></ion-input>
      </ion-item>
      <div class="error-message" *ngIf="registerForm.get('telefono')?.invalid && registerForm.get('telefono')?.touched">
        <span *ngIf="registerForm.get('telefono')?.errors?.['required']">El teléfono es obligatorio</span>
        <span *ngIf="registerForm.get('telefono')?.errors?.['pattern']">Ingresa un número de teléfono válido (10 dígitos)</span>
      </div>

      <ion-item>
        <ion-label position="floating">Correo electrónico</ion-label>
        <ion-input type="email" formControlName="email"></ion-input>
      </ion-item>
      <div class="error-message" *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
        <span *ngIf="registerForm.get('email')?.errors?.['required']">El correo es obligatorio</span>
        <span *ngIf="registerForm.get('email')?.errors?.['email']">Ingresa un correo válido</span>
      </div>

      <ion-item>
        <ion-label position="floating">Contraseña</ion-label>
        <ion-input type="password" formControlName="password"></ion-input>
      </ion-item>
      <div class="error-message" *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
        <span *ngIf="registerForm.get('password')?.errors?.['required']">La contraseña es obligatoria</span>
        <span *ngIf="registerForm.get('password')?.errors?.['minlength']">Debe tener al menos 6 caracteres</span>
      </div>

      <ion-button expand="block" type="submit" [disabled]="registerForm.invalid || isLoading">
        <ion-spinner name="crescent" *ngIf="isLoading"></ion-spinner>
        <span *ngIf="!isLoading">Registrarse</span>
      </ion-button>
    </form>

    <div class="auth-footer">
      <p>¿Ya tienes una cuenta?</p>
      <ion-button fill="clear" (click)="goToLogin()">Entonces Inicia sesión</ion-button>
    </div>
  </div>
</div>
